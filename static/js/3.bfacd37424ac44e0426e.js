webpackJsonp([3,30],{"3ZlP":function(t,a){},R5Sn:function(t,a){},YMx4:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("mvHQ"),i=s.n(e),n=s("bOdI"),o=s.n(n),c=s("Au9i"),l=s("UO8Z"),r={name:"uOrder",data:function(){var t;return t={wrapperHeight:"",allLoaded:!1,topStatus:"",bottomStatus:"",currentPage:1,appealTotal:5,note:!1,chooseFlag:!1,flag:!1,close:!1,value4:new Date,value5:new Date,starTime:"请选择日期",endTime:"请选择日期",createAtFrom:"",createAtTo:"",buy:!0,buyStatus:null,sellStatus:null,list:[],buyFlag:!1,buyTypeFlag:!1,buyTypes:[{name:"全部",value:null},{name:"成功",value:"Succ"},{name:"失败",value:"Failed"},{name:"处理中",value:"Handling"}],sellTypes:[{name:"全部",value:null},{name:"成功",value:"Succ"},{name:"失败",value:"Failed"},{name:"处理中",value:"Handling"},{name:"待审核",value:"Waiting"},{name:"已驳回",value:"Rejected"},{name:"已打款",value:"Payed"}],dateFlag:!1,type:"全部"},o()(t,"flag",!0),o()(t,"cancelFlag",!1),o()(t,"cancelItem",""),o()(t,"payFlag",!1),o()(t,"payItem",""),t},computed:{userId:function(){return this.$store.state.userId},sessionId:function(){return this.$store.state.sessionId}},created:function(){""!==this.$store.state.fastOrder.buy&&(this.buy=this.$store.state.fastOrder.buy,this.createAtFrom=this.$store.state.fastOrder.createAtFrom,this.createAtTo=this.$store.state.fastOrder.createAtTo,this.type=this.$store.state.fastOrder.type,this.buy?this.buyStatus=this.$store.state.fastOrder.status:this.sellStatus=this.$store.state.fastOrder.status,this.$store.state.fastOrder.buy="",this.$store.state.fastOrder.createAtFrom="",this.$store.state.fastOrder.createAtTo="",this.$store.state.fastOrder.status="",this.$store.state.fastOrder.type=""),this.allData()},mounted:function(){this.wrapperHeight=document.documentElement.clientHeight-this.$refs.wrapper.getBoundingClientRect().top},methods:{chooseBuy:function(t){this.buy=t,this.buyStatus=null,this.sellStatus=null,this.type="全部",this.starTime="请选择日期",this.endTime="请选择日期",this.createAtFrom="",this.createAtTo="",this.buyFlag=!1,this.loadTop()},chooseType:function(t,a){this.type=t.name,a?this.buyStatus=t.value:this.sellStatus=t.value,this.buyTypeFlag=!1,this.loadTop()},chooseDate:function(){this.dateFlag=!1,this.loadTop()},goDetail:function(t){this.buy||(this.flag=!1,this.setSess({ftab:3}),this.$store.state.fastOrder.buy=this.buy,this.$store.state.fastOrder.createAtFrom=this.createAtFrom,this.$store.state.fastOrder.createAtTo=this.createAtTo,this.$store.state.fastOrder.status=this.buy?this.buyStatus:this.sellStatus,this.$store.state.fastOrder.type=this.type,this.setSess({uSellItem:i()(t)}),this.$router.push("/uOrderDetail"))},goPay:function(t){var a=(new Date).getTime();if(parseFloat(a)>=parseFloat(t.expireTime)){var s=this;return setTimeout(function(){s.loadTop()},1e3),void Object(c.Toast)("订单已超时，不能再继续支付")}if(this.setSess({ftab:3}),"http:"==window.location.protocol)var e=t.payUrl.replace("https","http");else e=t.payUrl;window.location.href=e},cancel:function(t){this.cancelItem=t,this.cancelFlag=!0},pay:function(t){this.payItem=t,this.payFlag=!0},sureCancel:function(){var t=this;c.Indicator.open(),t.$axios.post("/fhUPay/cancel",{orderId:t.cancelItem.id,userId:t.userId,sktSessionId:t.sessionId}).then(function(a){c.Indicator.close(),t.cancelFlag=!1,a.data.ok?(t.loadTop(),Object(c.Toast)(a.data.msg)):Object(c.Toast)(a.data.msg)})},surePay:function(){var t=this;c.Indicator.open(),t.$axios.post("/fhUPay/confirmPay",{orderId:t.payItem.id,userId:t.userId,sktSessionId:t.sessionId}).then(function(a){c.Indicator.close(),t.payFlag=!1,a.data.ok?(t.loadTop(),Object(c.Toast)(a.data.msg)):Object(c.Toast)(a.data.msg)})},allData:function(){var t=this;if(this.allLoaded=!1,this.buy)var a="fwUPayIn_list",s=t.buyStatus;else a="fwUPayOut_list",s=t.sellStatus;c.Indicator.open(),t.$store.commit("socketSend",{act:a,data:{pageBean:{pageNo:t.currentPage,pageSize:t.appealTotal,orderField:"id",orderDirection:"desc"},createAtFrom:t.createAtFrom,createAtTo:t.createAtTo,status:s},fn:function(a){c.Indicator.close(),a.ok?(0==a.pageBean.data.length?t.allLoaded=!0:t.list=t.list.concat(a.pageBean.data),t.buy&&t.list.forEach(function(a){if("Handling"==a.status){var s=(new Date).getTime();parseFloat(s)>=parseFloat(a.expireTime)?t.$set(a,"active",!1):t.$set(a,"active",!0)}}),t.list.length>0?t.note=!1:t.note=!0):Object(c.Toast)(a.msg)}})},handleTopChange:function(t){this.topStatus=t},handleBottomChange:function(t){this.bottomStatus=t},loadTop:function(){var t=this;t.note=!1,t.currentPage=1,t.list=[],t.allLoaded=!1,t.allData(),t.flag&&setTimeout(function(){t.$refs.loadmore.onTopLoaded()},1e3)},loadBottom:function(){var t=this;t.currentPage++,t.allLoaded=!1,setTimeout(function(){t.allData(),t.$refs.loadmore.onBottomLoaded()},500)},handleChange:function(t){this.chooseFlag=!0,this.flag=!0,this.starTime=t,this.createAtFrom=Object(l.a)(this.starTime,"yyyy-MM-dd hh:mm:ss"),"请选择日期"==this.endTime?this.createAtTo="":this.createAtTo=Object(l.a)(this.endTime,"yyyy-MM-dd hh:mm:ss")},handleChanges:function(t){this.chooseFlag=!0,this.flag=!0,this.endTime=t,this.createAtTo=Object(l.a)(this.endTime,"yyyy-MM-dd hh:mm:ss"),"请选择日期"==this.starTime?this.createAtFrom="":this.createAtFrom=Object(l.a)(this.starTime,"yyyy-MM-dd hh:mm:ss")},open:function(t){this.$refs[t].open()}}},u={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"uOrder",attrs:{id:"uOrder"}},[s("div",{staticClass:"choose"},[s("div",{staticClass:"chooseCon clearfix"},[t._m(0),t._v(" "),s("div",{staticClass:"con fl cons"},[s("span",{staticClass:"fl tit"},[t._v("状态")]),t._v(" "),s("span",{class:{fl:!0,select:!0,chooseActive:t.buyTypeFlag},on:{click:function(a){t.buyTypeFlag=!t.buyTypeFlag,t.dateFlag=!1,t.buyFlag=!1}}},[s("span",[t._v(t._s(t.type))]),t._v(" "),t.buyTypeFlag?t._e():s("i",{staticClass:"iconfont icon-30jiantouxiangxiafill"}),t._v(" "),t.buyTypeFlag?s("i",{staticClass:"iconfont icon-30jiantouxiangshangfill"}):t._e()])]),t._v(" "),s("div",{staticClass:"date fr",on:{click:function(a){t.dateFlag=!t.dateFlag,t.buyFlag=!1,t.buyTypeFlag=!1}}},[s("i",{staticClass:"iconfont icon-riliriqi2"})])]),t._v(" "),t.buyFlag?s("div",{staticClass:"buyType"},[s("div",{class:{active:t.buy},on:{click:function(a){t.chooseBuy(!0)}}},[t._v("买入")]),t._v(" "),s("div",{class:{active:!t.buy},on:{click:function(a){t.chooseBuy(!1)}}},[t._v("卖出")])]):t._e(),t._v(" "),t.buyTypeFlag?s("div",{staticClass:"buyType"},[t._l(t.buyTypes,function(a,e){return t.buy?s("div",{key:e,class:{active:t.buyStatus==a.value},on:{click:function(s){t.chooseType(a,!0)}}},[t._v(t._s(a.name))]):t._e()}),t._v(" "),t._l(t.sellTypes,function(a,e){return t.buy?t._e():s("div",{key:e,class:{active:t.sellStatus==a.value},on:{click:function(s){t.chooseType(a,!1)}}},[t._v(t._s(a.name))])})],2):t._e(),t._v(" "),t.dateFlag?s("div",{staticClass:"dateCon"},[s("div",{staticClass:"title active"},[t._v("日期选择")]),t._v(" "),s("div",{staticClass:"center"},[s("div",{staticClass:"con clearfix"},[s("span",{staticClass:"fl"},[t._v("开始日期")]),t._v(" "),"请选择日期"!=t.starTime?s("span",{staticClass:"fl time",on:{click:function(a){t.open("picker4")}}},[t._v(t._s(t._f("formatDates")(t.starTime)))]):t._e(),t._v(" "),"请选择日期"==t.starTime?s("span",{staticClass:"fl time",on:{click:function(a){t.open("picker4")}}},[t._v(t._s(t.starTime))]):t._e(),t._v(" "),s("i",{staticClass:"fr iconfont icon-error",on:{click:function(a){t.starTime="请选择日期",t.createAtFrom=""}}})]),t._v(" "),s("div",{staticClass:"con clearfix"},[s("span",{staticClass:"fl"},[t._v("结束日期")]),t._v(" "),"请选择日期"!=t.endTime?s("span",{staticClass:"fl time",on:{click:function(a){t.open("picker5")}}},[t._v(t._s(t._f("formatDates")(t.endTime)))]):t._e(),t._v(" "),"请选择日期"==t.endTime?s("span",{staticClass:"fl time",on:{click:function(a){t.open("picker5")}}},[t._v(t._s(t.endTime))]):t._e(),t._v(" "),s("i",{staticClass:"fr iconfont icon-error",on:{click:function(a){t.endTime="请选择日期",t.createAtTo=""}}})]),t._v(" "),s("div",{staticClass:"btn"},[s("button",{on:{click:t.chooseDate}},[t._v("确定")])])])]):t._e()]),t._v(" "),s("div",{staticClass:"uOrderCon"},[s("div",{ref:"wrapper",staticClass:"page-loadmore-wrapper",style:{height:t.wrapperHeight+"px"}},[s("mt-loadmore",{ref:"loadmore",staticStyle:{marginBottom:"0.5rem"},attrs:{"bottom-method":t.loadBottom,"auto-fill":!1,"bottom-all-loaded":t.allLoaded,"top-method":t.loadTop},on:{"bottom-status-change":t.handleBottomChange,"top-status-change":t.handleTopChange}},[s("ul",{directives:[{name:"show",rawName:"v-show",value:t.list.length>0,expression:"list.length>0"}],staticClass:"recordBox"},t._l(t.list,function(a,e){return s("li",{key:e,on:{click:function(s){t.goDetail(a)}}},[s("div",{staticClass:"title clearfix"},[s("span",{staticClass:"fl"},[s("strong",[t._v("订单号:"+t._s(a.id))])]),t._v(" "),t.buy?s("span",{class:{fr:!0,rcolor:"Failed"==a.status,gcolor:"Succ"==a.status}},[s("strong",[t._v(t._s("Handling"==a.status?"处理中":"Succ"==a.status?"成功":"失败"))])]):t._e(),t._v(" "),t.buy?t._e():s("span",{class:{fr:!0,rcolor:"Failed"==a.status,gcolor:"Succ"==a.status}},[s("strong",[t._v(t._s("Handling"==a.status?"处理中":"Succ"==a.status?"成功":"Waiting"==a.status?"待审核":"Failed"==a.status?"失败":"Payed"==a.status?"已打款":"已驳回"))])])]),t._v(" "),s("div",{staticClass:"con clearfix one"},[s("span",{staticClass:"fl tit"},[t._v("类型")]),s("span",{staticClass:"fr"},[s("i",{class:{buy:t.buy,sell:!t.buy}},[t._v(t._s(t.buy?"买入":"卖出"))]),t._v(" "+t._s(t._f("moneyFil")(a.amount))+" USDT")])]),t._v(" "),a.price?s("div",{staticClass:"con clearfix"},[s("span",{staticClass:"fl tit"},[t._v("单价")]),s("span",{staticClass:"fr price"},[t._v(t._s(t._f("moneyFil")(a.price)))])]):t._e(),t._v(" "),a.msg?s("div",{staticClass:"con clearfix"},[s("span",{staticClass:"fl tit"},[t._v("备注")]),s("span",{staticClass:"fr note"},[t._v(t._s(a.msg))])]):t._e(),t._v(" "),s("div",{staticClass:"con clearfix"},[s("span",{staticClass:"fl tit"},[t._v("日期")]),s("span",{staticClass:"fr"},[t._v(t._s(a.createAt))])]),t._v(" "),a.buyType?s("div",{staticClass:"con btns clearfix"},["Handling"==a.status?s("button",{class:{fl:!0,buyActive:!a.active},on:{click:function(s){t.cancel(a)}}},[t._v("取消")]):t._e(),t._v(" "),"Handling"==a.status&&a.active?s("button",{staticClass:"fl go",on:{click:function(s){t.goPay(a)}}},[t._v("继续支付")]):t._e(),t._v(" "),"Handling"==a.status?s("button",{class:{fl:!0,go:!0,buyActive:!a.active},on:{click:function(s){t.pay(a)}}},[t._v("确认已付款")]):t._e(),t._v(" "),"Failed"==a.status?s("button",{class:{fl:!0,go:!0,failed:"Failed"==a.status},on:{click:function(s){t.pay(a)}}},[t._v("确认已付款")]):t._e()]):t._e()])})),t._v(" "),t.allLoaded?s("div",{staticClass:"noThing"},[s("span",[t._v("没有更多的数据了")])]):t._e(),t._v(" "),s("div",{staticClass:"mint-loadmore-bottom",attrs:{slot:"bottom"},slot:"bottom"},[s("span",{directives:[{name:"show",rawName:"v-show",value:"loading"!==t.bottomStatus,expression:"bottomStatus !== 'loading'"}],class:{"is-rotate":"drop"===t.bottomStatus}},[t._v("↑")]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.bottomStatus,expression:"bottomStatus === 'loading'"}]},[s("mt-spinner",{attrs:{type:"snake"}})],1)]),t._v(" "),s("div",{staticClass:"mint-loadmore-top",attrs:{slot:"top"},slot:"top"},[s("span",{directives:[{name:"show",rawName:"v-show",value:"loading"!==t.topStatus,expression:"topStatus !== 'loading'"}],class:{"is-rotate":"drop"===t.topStatus}},[t._v("↓")]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.topStatus,expression:"topStatus === 'loading'"}]},[s("mt-spinner",{attrs:{type:"snake"}})],1)])])],1)]),t._v(" "),s("mt-popup",{attrs:{"popup-transition":"popup-fade",closeOnClickModal:t.close},model:{value:t.cancelFlag,callback:function(a){t.cancelFlag=a},expression:"cancelFlag"}},[s("div",{staticClass:"cancelCon "},[s("p",{staticClass:"title"},[t._v("温馨提示")]),t._v(" "),s("p",{staticClass:"con"},[t._v("请确定您没有向对方打款，确定要取消吗？")]),t._v(" "),s("div",{staticClass:"btns clearfix"},[s("button",{staticClass:"fl",on:{click:function(a){t.cancelFlag=!1}}},[t._v("取消")]),s("button",{staticClass:"sure fr",on:{click:function(a){t.debounce(t.sureCancel,300)}}},[t._v("确定")])])])]),t._v(" "),s("mt-popup",{attrs:{"popup-transition":"popup-fade",closeOnClickModal:t.close},model:{value:t.payFlag,callback:function(a){t.payFlag=a},expression:"payFlag"}},[s("div",{staticClass:"cancelCon payCon"},[s("p",{staticClass:"title"},[t._v("温馨提示")]),t._v(" "),s("p",{staticClass:"con"},[t._v("请确定您已经向对方打款，如恶意点击将冻结该账户！")]),t._v(" "),s("div",{staticClass:"btns clearfix"},[s("button",{staticClass:"fl",on:{click:function(a){t.payFlag=!1}}},[t._v("取消")]),s("button",{staticClass:"sure fr",on:{click:function(a){t.debounce(t.surePay,300)}}},[t._v("确定")])])])]),t._v(" "),s("mt-datetime-picker",{ref:"picker4",attrs:{type:"date","year-format":"{value} 年","month-format":"{value} 月","date-format":"{value} 日"},on:{confirm:t.handleChange},model:{value:t.value4,callback:function(a){t.value4=a},expression:"value4"}}),t._v(" "),s("mt-datetime-picker",{ref:"picker5",attrs:{type:"date","year-format":"{value} 年","month-format":"{value} 月","date-format":"{value} 日"},on:{confirm:t.handleChanges},model:{value:t.value5,callback:function(a){t.value5=a},expression:"value5"}})],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"con fl"},[a("span",{staticClass:"fl  tit"},[this._v("类型 :   买入")])])}]},d=s("VU/8")(r,u,!1,function(t){s("rMby"),s("3ZlP")},"data-v-41172ddb",null);a.default=d.exports},ZNmb:function(t,a){},m9SV:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("Au9i"),i={name:"quickPay",data:function(){return{amount:"",payType:4}},computed:{userId:function(){return this.$store.state.userId},sessionId:function(){return this.$store.state.sessionId}},watch:{amount:{handler:function(t){if(t){var a=t.toString().split(".");if(a[1]&&a[1].length>2)return this.amount=this.moneyStr(this.amount,2),void Object(e.Toast)("小数位不能给超过两位小数");if(t>14e3)return this.amount=14e3,void Object(e.Toast)("入金数量的范围是【0,14000】")}}}},methods:{judge:function(){var t=this;e.Indicator.open(),t.$store.commit("socketSend",{act:"fwUPayIn_canIn",fn:function(a){e.Indicator.close(),a.ok?t.sure():Object(e.Toast)(a.msg)}})},sure:function(){if(""!=this.amount)if(!Number(this.amount)||Number(this.amount)<=0)Object(e.Toast)("请输入正确的USDT数量");else if(this.amount>14e3)Object(e.Toast)("入金数量的范围是【0,14000】");else{var t=this;t.$axios.post("/fhUPay/buy",{buyType:2,payType:t.payType,amount:t.amount,app:!0,userId:t.userId,sktSessionId:t.sessionId}).then(function(a){if(a.data.ok){if(t.amount="",t.payType=4,"http:"==window.location.protocol)var s=a.data.payUrl.replace("https","http");else s=a.data.payUrl;window.location.href=s}else Object(e.Toast)(a.data.msg)})}else Object(e.Toast)("USDT数量不能为空")}}},n={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"quickPay"},[s("div",{staticClass:"buyCon"},[s("p",{staticClass:"payType"},[t._v("USDT")]),t._v(" "),s("p",{staticClass:"payNum"},[t._v("购买数量")]),t._v(" "),s("div",{staticClass:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],staticClass:"buy",attrs:{type:"text",placeholder:"请输入购买数量"},domProps:{value:t.amount},on:{input:function(a){a.target.composing||(t.amount=a.target.value)}}}),t._v(" "),s("p",{staticClass:"type"},[t._v("USDT")])]),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"paySure"},[s("p",{on:{click:function(a){t.debounce(t.judge,800)}}},[t._v("买入")])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"choosePay"},[a("p",{staticClass:"text"},[this._v("支付方式")]),this._v(" "),a("div",{staticClass:"yhcard"},[a("i",{staticClass:"iconfont icon-cardb"}),this._v(" "),a("p",[this._v("银行卡")])])])}]},o=s("VU/8")(i,n,!1,function(t){s("R5Sn")},"data-v-124b06db",null).exports,c={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"payOutBtn"},[s("div",{staticClass:"payCon"},[s("div",{staticClass:"payText"},[t._v("\n      请到“自选区”进行卖出\n    ")]),t._v(" "),s("p",{staticClass:"payBtn",on:{click:function(a){t.goPath("/c2c")}}},[t._v("自选区卖出")])])])},staticRenderFns:[]},l=s("VU/8")({name:"payOutBtn",data:function(){return{}},methods:{goPath:function(t){this.$router.push(t),this.setSess({quickJump:"快捷"})}}},c,!1,function(t){s("ZNmb")},"data-v-76a68b38",null).exports,r=s("YMx4"),u={name:"c2c",data:function(){return{showlist:{},list:{},tabnum:1,typeFlag:!1,orderType:1,langFlag:!0,com:o,moneyKind:"USDT"}},watch:{tabnum:{handler:function(t){1==t?this.com=o:2==t?this.com=l:3==t&&(this.com=r.default)}}},created:function(){"zh-CN"==this.$i18n.locale?this.langFlag=!0:this.langFlag=!1;var t=this;if(t.$store.commit("socketSend",{act:"fwUser_getMoneyInfo",fn:function(a){if(a.ok){for(var s in t.list=a.coinMap,t.list)t.list[s].canCount=t.Subtr(t.list[s].count,t.list[s].frozenCount);t.showlist=t.list.USDT}}}),this.getSess("ftab")&&null!=this.getSess("ftab")){this.com="";var a=Number(this.getSess("ftab"));this.tabnum=a,this.com=2==a?l:r.default,window.sessionStorage.removeItem("ftab")}else this.tab(1)},methods:{tab:function(t){this.tabnum=t,this.typeFlag=!1}},components:{payIn:o,payOut:l,payOrder:r.default}},d={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"payTop"},[s("div",{staticClass:"comTop"},[s("div",{staticClass:"head"},[s("div",{on:{click:function(a){t.$router.push("/index")}}},[s("i",{staticClass:"iconfont icon-jiantou_xiangzuo back"})]),t._v(" "),s("div",{staticClass:"name"},[s("span",{staticClass:"fl active"},[t._v("快捷区")]),t._v(" "),s("span",{staticClass:"fl",on:{click:function(a){t.$router.push("/c2c")}}},[t._v("自选区")])])]),t._v(" "),s("div",{staticClass:"c2cContent"},[s("div",{staticClass:"bgs"},[s("div",{staticClass:"tophead"},[s("ul",{staticClass:"nav clerafix"},[s("li",{class:{fl:!0,active:1==t.tabnum},on:{click:function(a){t.tab(1)}}},[t._v(t._s(t.$t("m.c2c.buys")))]),t._v(" "),s("li",{class:{fl:!0,active:2==t.tabnum},on:{click:function(a){t.tab(2)}}},[t._v(t._s(t.$t("m.c2c.sells")))]),t._v(" "),s("li",{class:{fr:!0,active:3==t.tabnum},on:{click:function(a){t.tab(3)}}},[t._v("订单记录")])])])]),t._v(" "),s(t.com,{tag:"component",staticClass:"com"})],1)])])},staticRenderFns:[]},v=s("VU/8")(u,d,!1,function(t){s("wV3E")},"data-v-1d49834d",null);a.default=v.exports},rMby:function(t,a){},wV3E:function(t,a){}});