webpackJsonp([18],{JlTn:function(t,s){},KkUY:function(t,s){},jRzz:function(t,s,c){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=c("mvHQ"),i=c.n(e),a=c("2Hch"),n=c("Au9i"),o={name:"pay",data:function(){return{payMoney:!1,close:!1,buyItem:{},time:0,count:"",money:"",cancelNum:""}},created:function(){var t=this;this.buyItem=JSON.parse(this.getSess("buyItem")),t.$store.commit("socketSend",{act:"fwC2c_getConfig",fn:function(s){s.ok&&(t.time=s.c2cWaitingMinutes,t.cancelNum=s.c2cCancelTimes)}})},methods:{calculateCount:function(){/^[+]{0,1}(\d+)$|^[+]{0,1}(\d+\.\d+)$/.test(this.count)?this.count>this.buyItem.count?Object(n.Toast)(this.$t("m.c2c.message4")):(this.count=Number(this.count).toFixed(2),this.money=this.moneyfile(Number(this.count)*Number(this.buyItem.price))):Object(n.Toast)(this.$t("m.c2c.message3"))},calculateMoney:function(){/^[+]{0,1}(\d+)$|^[+]{0,1}(\d+\.\d+)$/.test(this.money)?this.money>this.buyItem.max||this.money<this.buyItem.min?Object(n.Toast)(this.$t("m.c2c.message5")+this.buyItem.min+"-"+this.buyItem.max):(this.money=this.moneyfile(this.money),this.count=(Number(this.money)/Number(this.buyItem.price)).toFixed(2)):Object(n.Toast)(this.$t("m.c2c.message1"))},canBuy:function(){var t=this,s=/^[+]{0,1}(\d+)$|^[+]{0,1}(\d+\.\d+)$/;s.test(this.count)?this.count>this.buyItem.count?Object(n.Toast)(this.$t("m.c2c.message4")):s.test(this.money)?this.money>this.buyItem.max||this.money<this.buyItem.min?Object(n.Toast)(this.$t("m.c2c.message5")+this.buyItem.min+"-"+this.buyItem.max):(n.Indicator.open(),this.$store.commit("socketSend",{act:"fwC2c_canBuyCheckOrder",fn:function(s){n.Indicator.close(),s.ok?t.payMoney=!0:Object(n.Toast)("您有未完成的订单，请前往订单详情查看")}})):Object(n.Toast)(this.$t("m.c2c.message1")):Object(n.Toast)(this.$t("m.c2c.message3"))},verify:function(){var t=this;this.$store.commit("socketSend",{act:"fwC2c_canBuyCheckOrder",fn:function(s){s.ok?t.buy():Object(n.Toast)("您有未完成的订单，请前往订单详情查看")}})},buy:function(){var t=this;n.Indicator.open(),this.$store.commit("socketSend",{act:"fwC2c_buy",data:{adId:t.buyItem.id,count:t.count},fn:function(s){n.Indicator.close(),s.ok?(t.buyItem.refNo=s.refNo,t.buyItem.createAt=s.createAt,t.buyItem.dealcount=t.count,t.buyItem.orderId=s.orderId,t.buyItem.payway=s.payKindList,t.setSess({buyItem:i()(t.buyItem)}),t.$router.push("/pay")):Object(n.Toast)(s.msg)}})}},components:{commonHead:a.a}},l={render:function(){var t=this,s=t.$createElement,c=t._self._c||s;return c("div",{staticClass:"pay"},[c("common-head",{attrs:{title:t.$t("m.c2c.b")+t.buyItem.coinType}}),t._v(" "),c("div",{staticClass:"payContent"},[c("div",{staticClass:"bgs"},[c("div",{staticClass:"head"},[c("div",{staticClass:"clearfix title"},[c("div",{staticClass:"person fl"},[c("img",{staticClass:"fl",attrs:{src:t.buyItem.profileImg}}),t._v(" "),c("span",{staticClass:"fl"},[t._v(t._s(t.buyItem.nickname))])]),t._v(" "),c("div",{staticClass:"payway  fl"},t._l(t.buyItem.payKindTypes,function(s,e){return c("span",{key:e},["Bank"==s?c("i",{staticClass:"iconfont icon-yinhangqia3 fl bank",staticStyle:{color:"#d9ad00"}}):t._e(),t._v(" "),"Bao"==s?c("i",{staticClass:"iconfont icon-umidd1 fl zhi",staticStyle:{color:"#1297db"}}):t._e(),t._v(" "),"Wechat"==s?c("i",{staticClass:"iconfont icon-weixin1 fl wei",staticStyle:{color:"#68b94a"}}):t._e()])}))]),t._v(" "),c("div",{staticClass:"clearfix full"},[c("div",{staticClass:"fl price"},[c("p",{staticClass:"tit"},[t._v(t._s(t.$t("m.c2c.price")))]),t._v(" "),c("p",{staticClass:"con"},[t._v(t._s(t._f("moneyFil")(t.buyItem.price)))])]),t._v(" "),c("div",{staticClass:"fl num"},[c("p",{staticClass:"tit"},[t._v(t._s(t.$t("m.c2c.limitcount"))+" "+t._s(t.buyItem.coinType))]),t._v(" "),c("p",{staticClass:"con"},[t._v(t._s(t._f("numFil")(t.buyItem.min/t.buyItem.price,2))+" - "+t._s(t._f("numFil")(t.buyItem.max/t.buyItem.price,2)))])]),t._v(" "),c("div",{staticClass:"fl"},[c("p",{staticClass:"tit"},[t._v(t._s(t.$t("m.c2c.total")))]),t._v(" "),c("p",{staticClass:"con"},[t._v(t._s(t._f("moneyFil")(t.buyItem.min))+" - "+t._s(t._f("moneyFil")(t.buyItem.max)))])])])]),t._v(" "),t._m(0),t._v(" "),c("div",{staticClass:"place"},[c("div",{staticClass:"title"},[t._v(t._s(t.$t("m.c2c.countIn")))]),t._v(" "),c("div",{staticClass:"clearfix con"},[c("div",{staticClass:"fl price"},[c("label",{staticClass:"fl"},[t._v(t._s(t.buyItem.coinType))]),c("input",{directives:[{name:"model",rawName:"v-model",value:t.count,expression:"count"}],staticClass:"fl",attrs:{placeholder:t.$t("m.c2c.placeholder2")},domProps:{value:t.count},on:{blur:t.calculateCount,input:function(s){s.target.composing||(t.count=s.target.value)}}})]),t._v(" "),t._m(1),t._v(" "),c("div",{staticClass:"fr price"},[c("label",{staticClass:"fl"},[t._v("CNY")]),c("input",{directives:[{name:"model",rawName:"v-model",value:t.money,expression:"money"}],staticClass:"fl",attrs:{placeholder:t.$t("m.c2c.placeholder3")},domProps:{value:t.money},on:{blur:t.calculateMoney,input:function(s){s.target.composing||(t.money=s.target.value)}}})])]),t._v(" "),c("div",{staticClass:"clearfix limit"},[c("span",{staticClass:"fl"},[t._v(t._s(t.$t("m.c2c.time")))]),c("span",{staticClass:"fr"},[t._v(t._s(0==t.time?t.$t("m.c2c.nolimit"):t.time+t.$t("m.c2c.minute")))])])]),t._v(" "),c("div",{staticClass:"prompt"},[c("p",{staticClass:"title"},[t._v(t._s(t.$t("m.c2c.ptitle")))]),t._v(" "),c("div",{staticClass:"con"},[c("p",[t._v("1."+t._s(t.$t("m.c2c.p1")))]),t._v(" "),c("p",[t._v("2."+t._s(t.$t("m.c2c.p2")))]),t._v(" "),c("p",[t._v("3."+t._s(t.$t("m.c2c.p4"))+t._s(0==t.time?"不限":t.time)+t._s(t.$t("m.c2c.p41"))+t._s(0==t.cancelNum?t.$t("m.pay.p6"):t.cancelNum)+t._s(t.$t("m.c2c.p42")))])])]),t._v(" "),c("div",{staticClass:"btns",staticStyle:{"text-align":"center"}},[c("button",{on:{click:t.canBuy}},[t._v(t._s(t.$t("m.c2c.b")))])])])]),t._v(" "),c("div",{staticClass:"payMoney"},[c("mt-popup",{attrs:{"popup-transition":"popup-fade",closeOnClickModal:t.close,position:"bottom"},model:{value:t.payMoney,callback:function(s){t.payMoney=s},expression:"payMoney"}},[c("div",{staticClass:"payMoneyCon"},[c("ul",[c("li",{staticClass:"clearfix"},[c("span",{staticClass:"fl"},[t._v(t._s(t.$t("m.c2c.orderTit")))]),c("span",{staticClass:"fr cancel",on:{click:function(s){t.payMoney=!1}}},[t._v(t._s(t.$t("m.c2c.cancel")))])]),t._v(" "),c("li",{staticClass:"clearfix"},[c("span",{staticClass:"fl name"},[t._v(t._s(t.$t("m.c2c.yplace")))]),c("span",{staticClass:"fr"},[t._v(t._s(t._f("moneyFil")(t.buyItem.price))+" CNY/"+t._s(t.buyItem.coinType))])]),t._v(" "),c("li",{staticClass:"clearfix"},[c("span",{staticClass:"fl name"},[t._v(t._s(t.$t("m.c2c.count")))]),c("span",{staticClass:"fr"},[t._v(t._s(t._f("numFil")(t.count,2))+" "+t._s(t.buyItem.coinType))])]),t._v(" "),c("li",{staticClass:"clearfix"},[c("span",{staticClass:"fl name"},[t._v(t._s(t.$t("m.c2c.ymoney")))]),c("span",{staticClass:"fr"},[t._v(t._s(t._f("moneyFil")(t.money))+" CNY")])])]),t._v(" "),c("div",{staticClass:"prompt"},[t._v(t._s(t.$t("m.c2c.p10")))]),t._v(" "),c("div",{staticClass:"btn",on:{click:function(s){t.debounce(t.verify,300)}}},[t._v(t._s(t.$t("m.c2c.confirm")))])])])],1)],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"leave"},[s("p",[this._v("注意事项")]),this._v(" "),s("p",[this._v("1、交易前请详细了解商家的交易信息；")]),this._v(" "),s("p",[this._v("2、您不需要支付任何手续费，交易手续费将由卖家承担，请安心交易")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"fl equal"},[s("i",{staticClass:"iconfont icon-qiehuan1 fl"})])}]},m=c("VU/8")(o,l,!1,function(t){c("KkUY"),c("JlTn")},"data-v-b69099de",null);s.default=m.exports}});