webpackJsonp([8],{"6aSL":function(t,s){},JpXc:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var c=e("mvHQ"),i=e.n(c),a=e("2Hch"),l=e("Au9i"),n={name:"pay",data:function(){return{checkflagb:!1,checkflaga:!1,checkflagw:!1,close:!1,payMoney:!1,sellItem:{},time:0,count:"",money:"",canUseMoney:0,limittime:0,cancelNum:0}},created:function(){var t=this;this.sellItem=JSON.parse(this.getSess("sellItem")),t.$store.commit("socketSend",{act:"fwUser_getMoneyInfo",fn:function(s){if(l.Indicator.close(),s.ok){t.canUseMoney=s.coinMap.USDT.count;var e=s.coinMap,c={};for(var i in e)i==t.sellItem.coinType&&(c=e[i]);t.sellItem.count=t.Subtr(c.count,c.frozenCount)}}}),t.$store.commit("socketSend",{act:"fwC2c_getConfig",fn:function(s){s.ok&&(t.limittime=s.c2cWaitingMinutes,t.cancelNum=s.c2cCancelTimes)}})},methods:{calculateCount:function(){/^[+]{0,1}(\d+)$|^[+]{0,1}(\d+\.\d+)$/.test(this.count)?this.count>this.sellItem.count?Object(l.Toast)(this.$t("m.c2c.message4")):(this.count=Number(this.count).toFixed(2),this.money=this.moneyfile(Number(this.count)*Number(this.sellItem.price))):Object(l.Toast)(this.$t("m.c2c.message3"))},calculateMoney:function(){/^[+]{0,1}(\d+)$|^[+]{0,1}(\d+\.\d+)$/.test(this.money)?this.money>this.sellItem.max||this.money<this.sellItem.min?Object(l.Toast)(this.$t("m.c2c.message5")+this.sellItem.min+"-"+this.sellItem.max):(this.money=this.moneyfile(this.money),this.count=(Number(this.money)/Number(this.sellItem.price)).toFixed(2)):Object(l.Toast)(this.$t("m.c2c.message1"))},canSell:function(){var t=/^[+]{0,1}(\d+)$|^[+]{0,1}(\d+\.\d+)$/;t.test(this.count)?this.count>this.sellItem.count?Object(l.Toast)(this.$t("m.c2c.message4")):t.test(this.money)?this.money>this.sellItem.max||this.money<this.sellItem.min?Object(l.Toast)(this.$t("m.c2c.message5")+this.sellItem.min+"-"+this.sellItem.max):this.payMoney=!0:Object(l.Toast)(this.$t("m.c2c.message1")):Object(l.Toast)(this.$t("m.c2c.message3"))},sell:function(){var t=this;l.Indicator.open(),this.$store.commit("socketSend",{act:"fwC2c_sell",data:{adId:t.sellItem.id,count:t.count},fn:function(s){l.Indicator.close(),s.ok?(t.sellItem.refNo=s.refNo,t.sellItem.createAt=s.createAt,t.sellItem.dealcount=t.count,t.sellItem.orderId=s.orderId,t.sellItem.payway=s.payKindList,t.setSess({sellItem:i()(t.sellItem)}),t.$router.push("/sellpay")):Object(l.Toast)(s.msg)}})}},components:{commonHead:a.a}},o={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"pay"},[e("common-head",{attrs:{title:t.$t("m.c2c.s")+t.sellItem.coinType}}),t._v(" "),e("div",{staticClass:"payContent"},[e("div",{staticClass:"bgs"},[e("div",{staticClass:"head"},[e("div",{staticClass:"clearfix title"},[e("div",{staticClass:"person fl"},[e("img",{staticClass:"fl",attrs:{src:t.sellItem.profileImg}}),t._v(" "),e("span",{staticClass:"fl"},[t._v(t._s(t.sellItem.nickname))])])]),t._v(" "),e("div",{staticClass:"clearfix full"},[e("div",{staticClass:"fl price"},[e("p",{staticClass:"tit"},[t._v(t._s(t.$t("m.c2c.price")))]),t._v(" "),e("p",{staticClass:"con"},[t._v(t._s(t._f("moneyFil")(t.sellItem.price)))])]),t._v(" "),e("div",{staticClass:"fl num"},[e("p",{staticClass:"tit"},[t._v(t._s(t.$t("m.c2c.limitcount"))+" "+t._s(t.sellItem.coinType))]),t._v(" "),e("p",{staticClass:"con"},[t._v(t._s(t._f("numFil")(t.sellItem.min/t.sellItem.price,2))+" - "+t._s(t._f("numFil")(t.sellItem.max/t.sellItem.price,2)))])]),t._v(" "),e("div",{staticClass:"fl"},[e("p",{staticClass:"tit"},[t._v(t._s(t.$t("m.c2c.total")))]),t._v(" "),e("p",{staticClass:"con"},[t._v(t._s(t._f("moneyFil")(t.sellItem.min))+" - "+t._s(t._f("moneyFil")(t.sellItem.max)))])])])]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"place"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("m.c2c.countOut")))]),t._v(" "),e("div",{staticClass:"clearfix con"},[e("div",{staticClass:"fl price"},[e("label",{staticClass:"fl"},[t._v(t._s(t.sellItem.coinType))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.count,expression:"count"}],staticClass:"fl",attrs:{placeholder:t.$t("m.c2c.placeholder2")},domProps:{value:t.count},on:{blur:t.calculateCount,input:function(s){s.target.composing||(t.count=s.target.value)}}})]),t._v(" "),t._m(1),t._v(" "),e("div",{staticClass:"fr price"},[e("label",{staticClass:"fl"},[t._v("CNY")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.money,expression:"money"}],staticClass:"fl",attrs:{placeholder:t.$t("m.c2c.placeholder3")},domProps:{value:t.money},on:{blur:t.calculateMoney,input:function(s){s.target.composing||(t.money=s.target.value)}}})])]),t._v(" "),e("div",{staticClass:"money"},[t._v(t._s(t.$t("m.c2c.bal"))+" "+t._s(t.canUseMoney)+"USDT")])]),t._v(" "),e("div",{staticClass:"clearfix limit"},[e("span",{staticClass:"fl"},[t._v(t._s(t.$t("m.c2c.time")))]),e("span",{staticClass:"fr"},[t._v(t._s(0==t.limittime?t.$t("m.c2c.nolimit"):t.limittime+t.$t("m.c2c.minute")))])]),t._v(" "),e("div",{staticClass:"prompt"},[e("p",{staticClass:"title"},[t._v(t._s(t.$t("m.c2c.ptitle")))]),t._v(" "),e("div",{staticClass:"con"},[e("p",[t._v("1."+t._s(t.$t("m.sellPay.p1")))])])]),t._v(" "),e("div",{staticClass:"btns",staticStyle:{"text-align":"center"}},[e("button",{on:{click:t.canSell}},[t._v(t._s(t.$t("m.c2c.s")))])])])]),t._v(" "),e("div",{staticClass:"payMoney"},[e("mt-popup",{attrs:{"popup-transition":"popup-fade",closeOnClickModal:t.close,position:"bottom"},model:{value:t.payMoney,callback:function(s){t.payMoney=s},expression:"payMoney"}},[e("div",{staticClass:"payMoneyCon"},[e("ul",[e("li",{staticClass:"clearfix"},[e("span",{staticClass:"fl"},[t._v(t._s(t.$t("m.c2c.orderTit")))]),e("span",{staticClass:"fr cancel",on:{click:function(s){t.payMoney=!1}}},[t._v(t._s(t.$t("m.c2c.cancel")))])]),t._v(" "),e("li",{staticClass:"clearfix"},[e("span",{staticClass:"fl name"},[t._v(t._s(t.$t("m.c2c.yplace")))]),e("span",{staticClass:"fr"},[t._v(t._s(t._f("moneyFil")(t.sellItem.price))+" CNY/"+t._s(t.sellItem.coinType))])]),t._v(" "),e("li",{staticClass:"clearfix"},[e("span",{staticClass:"fl name"},[t._v(t._s(t.$t("m.c2c.count")))]),e("span",{staticClass:"fr"},[t._v(t._s(t._f("numFil")(t.count,2))+" "+t._s(t.sellItem.coinType))])]),t._v(" "),e("li",{staticClass:"clearfix"},[e("span",{staticClass:"fl name"},[t._v(t._s(t.$t("m.c2c.ymoney")))]),e("span",{staticClass:"fr"},[t._v(t._s(t._f("moneyFil")(t.money))+" CNY")])])]),t._v(" "),e("div",{staticClass:"prompt"},[t._v(t._s(t.$t("m.c2c.p10")))]),t._v(" "),e("div",{staticClass:"btn",on:{click:function(s){t.debounce(t.sell,300)}}},[t._v(t._s(t.$t("m.c2c.confirm1")))])])])],1)],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"leave"},[s("p",[this._v("注意事项")]),this._v(" "),s("p",[this._v("1.付款需要些时间，请耐心等候")]),this._v(" "),s("p",[this._v("2.下单时请及时留下您的收款方式，请务必仔细确认您的收款账号是否正确，信息错误自行承担损失。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"fl equal"},[s("i",{staticClass:"iconfont icon-qiehuan1 fl"})])}]},m=e("VU/8")(n,o,!1,function(t){e("rS+m"),e("6aSL"),e("S2c0")},"data-v-4c4ac51a",null);s.default=m.exports},S2c0:function(t,s){},"rS+m":function(t,s){}});