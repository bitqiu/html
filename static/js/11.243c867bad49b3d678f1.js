webpackJsonp([11],{"+eai":function(t,s){},"84dg":function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("mvHQ"),i=a.n(e),c=a("2Hch"),n=a("Au9i"),o={name:"pay",data:function(){return{payMoney:!1,closePay:!0,close:!1,payment:!1,payWay:!1,paymentName:2,cancelFlag:!1,overtime:!1,buyItem:{},buyItemWay:[],payMessage:"",secs:0,time:"",c2cCancelTimes:"",cancelnumber:!1,stime:"",cancelCount:0,limitTime:0,noteFlag:!1,note:""}},computed:{orderNotice:function(){return this.$store.state.TimeOut}},watch:{orderNotice:{handler:function(t){t==this.buyItem.orderId&&(this.closePay=!1,this.cancelFlag=!1,this.payment=!1,this.overtime=!0,clearInterval(this.time),this.secs=0)}}},created:function(){var t=this;this.buyItem=JSON.parse(this.getSess("buyItem")),this.buyItemWay=this.buyItem.payway,clearInterval(t.time),t.$store.commit("socketSend",{act:"fwC2c_getConfig",fn:function(s){t.c2cCancelTimes=s.c2cCancelTimes,t.c2cCancelTimes>0?t.cancelnumber=!0:t.cancelnumber=!1,t.limitTime=s.c2cWaitingMinutes;var a=60*s.c2cWaitingMinutes;if(JSON.parse(t.getSess("buyItem")).createAt){var e=JSON.parse(t.getSess("buyItem")).createAt.replace(new RegExp("-","gm"),"/");e=new Date(e).getTime();var i=s.now.replace(new RegExp("-","gm"),"/");i=new Date(i).getTime(),t.stime=t.Subtr(i,e)/1e3,t.secs=a-t.stime}else t.secs=a;t.secs<=0?(t.zhong=!1,t.secs=0):(t.zhong=!0,t.time=setInterval(function(){--t.secs<=0&&clearInterval(t.time)},1e3))}})},methods:{copys:function(t){this.copy(t)},look:function(t){this.closePay=!1,this.payment=!0,this.payMessage=t.qrImg},cancelSure:function(){if(0==this.cancelCount)this.cancelFlag=!0,this.cancelCount++;else{var t=this;n.Indicator.open(),t.$store.commit("socketSend",{act:"fwC2c_cancel",data:{id:t.buyItem.orderId},fn:function(s){n.Indicator.close(),s.ok?(clearInterval(t.time),t.buyItem.status="Canceled",t.setSess({buyItem:i()(t.buyItem)}),Object(n.Toast)(s.msg),t.$router.push("/cancel")):Object(n.Toast)(s.msg)}})}},timeover:function(){this.buyItem.status="Timeout",this.setSess({buyItem:i()(this.buyItem)}),this.$router.push("/cancel")},dealSure:function(){if(""==this.note)Object(n.Toast)("付款备注必填");else{var t=this;n.Indicator.open(),t.$store.commit("socketSend",{act:"fwC2c_buyConfirmNote",data:{id:t.buyItem.orderId,note:t.note},fn:function(s){n.Indicator.close(),s.ok?(clearInterval(t.time),t.$router.push("/release")):Object(n.Toast)(s.msg)}})}}},components:{commonHead:c.a}},l={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"pay"},[a("common-head",{attrs:{title:t.$t("m.pay.buy")+t.buyItem.coinType}}),t._v(" "),a("div",{staticClass:"payContent"},[a("div",{staticClass:"cancel"},[t._v(t._s(t.$t("m.pay.ltime"))+" "+t._s(t._f("toTime")(t.secs))+" "+t._s(t.$t("m.pay.p11")))]),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"order"},[a("div",{staticClass:"title clearfix"},[a("span",{staticClass:"name fl"},[t._v(t._s(t.$t("m.pay.title")))]),a("span",{staticClass:"time fr"},[t._v(t._s(t.$t("m.pay.ltime"))+" "+t._s(t._f("toTime")(t.secs)))])]),t._v(" "),a("ul",[a("li",[t._v(t._s(t.$t("m.pay.reference"))+" : "),a("span",{attrs:{id:"order"}},[t._v(t._s(t.buyItem.refNo))]),t._v(" "),a("i",{staticClass:"iconfont icon-fuzhi1 copy",on:{click:function(s){t.copys("order")}}})]),t._v(" "),a("li",{staticClass:"clearfix"},[a("span",{staticClass:"fl"},[t._v(t._s(t.$t("m.pay.price")))]),a("span",{staticClass:"fr"},[t._v(t._s(t._f("moneyFil")(t.buyItem.price))+" CNY/"+t._s(t.buyItem.coinType))])]),t._v(" "),a("li",{staticClass:"clearfix"},[a("span",{staticClass:"fl"},[t._v(t._s(t.$t("m.pay.count")))]),a("span",{staticClass:"fr"},[t._v(t._s(t._f("numFil")(t.buyItem.dealcount,2))+" "+t._s(t.buyItem.coinType))])]),t._v(" "),a("li",{staticClass:"clearfix"},[a("span",{staticClass:"fl"},[t._v(t._s(t.$t("m.pay.total")))]),a("span",{staticClass:"fr"},[t._v(t._s(t._f("moneyFil")(t.buyItem.price*t.buyItem.dealcount))+" CNY")])]),t._v(" "),a("li",{staticClass:"clearfix"},[a("span",{staticClass:"fl"},[t._v(t._s(t.$t("m.pay.time")))]),a("span",{staticClass:"fr"},[t._v(t._s(t.buyItem.createAt))])])])]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"payway"},[a("p",{staticClass:"title"},[t._v(t._s(t.$t("m.pay.payee")))]),t._v(" "),a("ul",{staticClass:"con"},t._l(t.buyItemWay,function(s,e){return a("li",{key:e},[a("p",{staticClass:"name"},["Bank"==s.type?a("i",{staticClass:"iconfont icon-yinhangqia3 fl bank"}):t._e(),t._v(" "),"Bao"==s.type?a("i",{staticClass:"iconfont icon-umidd1 fl zhi"}):t._e(),t._v(" "),"Wechat"==s.type?a("i",{staticClass:"iconfont icon-weixin1 fl wei"}):t._e(),t._v(" "),"Bank"==s.type?a("span",[t._v(t._s(t.$t("m.pay.bankCard")))]):t._e(),t._v(" "),"Bao"==s.type?a("span",[t._v(t._s(t.$t("m.pay.Bao")))]):t._e(),t._v(" "),"Wechat"==s.type?a("span",[t._v(t._s(t.$t("m.pay.Wechat")))]):t._e()]),t._v(" "),"Bank"!=s.type?a("p",{staticClass:"msg"},[t._v(t._s(t.$t("m.pay.id"))+"："+t._s(s.no))]):t._e(),t._v(" "),"Bank"!=s.type?a("p",{staticClass:"msg"},[t._v(t._s(t.$t("m.pay.name"))+"："+t._s(s.realName))]):t._e(),t._v(" "),"Bank"!=s.type?a("p",{staticClass:"msg"},[a("span",[t._v(t._s(t.$t("m.pay.code"))+"：")]),a("span",{staticClass:"look",on:{click:function(a){t.look(s)}}},[t._v(t._s(t.$t("m.pay.look")))])]):t._e(),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"Bank"==s.type,expression:"item.type=='Bank'"}]},[a("p",{staticClass:"msg"},[t._v(t._s(t.$t("m.pay.bankname"))+"："),a("span",{attrs:{id:e+"no"}},[t._v(t._s(s.no))]),t._v("  \n              "),a("i",{staticClass:"iconfont icon-fuzhi1 copy",on:{click:function(s){t.copys(e+"no")}}})]),t._v(" "),a("p",{staticClass:"msg"},[t._v(t._s(t.$t("m.pay.bank"))+"："+t._s(s.bank))]),t._v(" "),a("p",{staticClass:"msg"},[t._v(t._s(t.$t("m.pay.branch"))+"："+t._s(s.branch))]),t._v(" "),a("p",{staticClass:"msg"},[t._v(t._s(t.$t("m.pay.name"))+"："),a("span",{attrs:{id:e+"name"}},[t._v(t._s(s.realName))]),t._v("  \n              "),a("i",{staticClass:"iconfont icon-fuzhi1 copy",on:{click:function(s){t.copys(e+"name")}}})])])])}))]),t._v(" "),a("div",{staticClass:"prompt"},[a("p",{staticClass:"title"},[t._v(t._s(t.$t("m.pay.p12")))]),t._v(" "),a("p",{staticClass:"con"},[t._v("1."+t._s(t.$t("m.pay.p13")))]),t._v(" "),a("p",{staticClass:"con"},[t._v("2."+t._s(t.$t("m.pay.p14")))])]),t._v(" "),a("div",{staticClass:"btns clearfix"},[a("button",{staticClass:"fl",on:{click:t.cancelSure}},[t._v(t._s(t.$t("m.pay.cancel")))]),t._v(" "),a("button",{staticClass:"fr",on:{click:function(s){t.noteFlag=!0}}},[t._v(t._s(t.$t("m.pay.payed")))])])])]),t._v(" "),a("div",{staticClass:"payMoney"},[a("mt-popup",{attrs:{"popup-transition":"popup-fade",closeOnClickModal:!1},model:{value:t.closePay,callback:function(s){t.closePay=s},expression:"closePay"}},[a("div",{staticClass:"closeCon"},[a("div",{staticClass:"prompt"},[t._v(t._s(t.$t("m.pay.p1")))]),t._v(" "),a("div",{staticClass:"know",on:{click:function(s){t.closePay=!1}}},[t._v(t._s(t.$t("m.pay.p2")))])])]),t._v(" "),a("mt-popup",{attrs:{"popup-transition":"popup-fade",closeOnClickModal:t.close},model:{value:t.cancelFlag,callback:function(s){t.cancelFlag=s},expression:"cancelFlag"}},[a("div",{staticClass:"cancelCon"},[a("p",{staticClass:"title"},[t._v(t._s(t.$t("m.pay.p3")))]),t._v(" "),a("i",{staticClass:"iconfont icon-cuohao-copy",on:{click:function(s){t.cancelFlag=!1}}}),t._v(" "),a("div",{staticClass:"con"},[t._v(t._s(t.$t("m.pay.p4"))+" "+t._s(t.limitTime)+" "+t._s(t.$t("m.pay.p5"))+" "+t._s(0==t.c2cCancelTimes?t.$t("m.pay.p6"):t.c2cCancelTimes)+" "+t._s(t.$t("m.pay.p7"))+"，"+t._s(t.$t("m.pay.p8"))+t._s(t.$t("m.pay.p9"))+"，"+t._s(t.$t("m.pay.p10")))])])]),t._v(" "),a("mt-popup",{attrs:{"popup-transition":"popup-fade"},model:{value:t.payment,callback:function(s){t.payment=s},expression:"payment"}},[a("div",{staticClass:"paymentCon"},[a("img",{attrs:{src:t.payMessage}})])]),t._v(" "),a("mt-popup",{attrs:{"popup-transition":"popup-fade",closeOnClickModal:t.close},model:{value:t.overtime,callback:function(s){t.overtime=s},expression:"overtime"}},[a("div",{staticClass:"overtime"},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("m.pay.timeout")))]),t._v(" "),a("div",{staticClass:"sure"},[a("button",{on:{click:t.timeover}},[t._v(t._s(t.$t("m.pay.confirm1")))])])])]),t._v(" "),a("mt-popup",{attrs:{"popup-transition":"popup-fade",closeOnClickModal:t.close},model:{value:t.noteFlag,callback:function(s){t.noteFlag=s},expression:"noteFlag"}},[a("div",{staticClass:"note"},[a("div",{staticClass:"title"},[t._v("付款备注")]),t._v(" "),a("div",{staticClass:"pro"},[t._v("银行卡号后四位")]),t._v(" "),a("div",{staticClass:"notecon clearfix"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.note,expression:"note"}],staticClass:"fl",domProps:{value:t.note},on:{input:function(s){s.target.composing||(t.note=s.target.value)}}})]),t._v(" "),a("div",{staticClass:"sure clearfix"},[a("button",{staticClass:"fl",on:{click:function(s){t.noteFlag=!1}}},[t._v("取消")]),a("button",{staticClass:"fr",on:{click:function(s){t.debounce(t.dealSure,1e3)}}},[t._v("确认")])])])])],1)],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"leave"},[s("p",{staticClass:"title"},[this._v("注意事项")]),this._v(" "),s("p",{staticClass:"con"},[this._v("1.请您及时在订单有效期内付款并点击 「已支付」 按钮，我确定收到打款才可以释放数字货币给您;")]),this._v(" "),s("p",{staticClass:"con"},[this._v("2.开始交易后数字币由系统锁定托管，请您安心下单;")]),this._v(" "),s("p",{staticClass:"con"},[this._v("3.转账时请备注 「订单编号」 以加快确认速度。")])])}]},p=a("VU/8")(o,l,!1,function(t){a("93BX"),a("+eai"),a("jdSr")},"data-v-d51ca774",null);s.default=p.exports},"93BX":function(t,s){},jdSr:function(t,s){}});