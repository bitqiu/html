webpackJsonp([33],{MgnA:function(t,a){},buvX:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("2Hch"),o=s("Au9i"),l=(s("7+uW"),{name:"detail",data:function(){return{flag:!0,dataList1:[],dataList2:[],pageNo:1,pageSize:5,allLoaded1:!1,allLoaded3:!1,topStatus:"",bottomStatus:"",settletotal:0,closetotal:0,orderNo:0,orderId:"",wrapperHeight:0,decimalPlace:0}},mounted:function(){this.wrapperHeight=document.documentElement.clientHeight-this.$refs.wrapper.getBoundingClientRect().top},created:function(){this.orderId=this.$route.query.item.id,this.orderNo=this.$route.query.item.orderNo,this.decimalPlace=this.$route.query.item.decimalPlace,this.getDate()},methods:{back:function(){this.$router.push("/order"),this.$store.commit("changePage","/order")},tab:function(t){this.flag=1==t,this.dataList1=[],this.dataList2=[],this.pageNo=1,this.allLoaded1=!1,this.allLoaded3=!1,this.getDate()},handleTopChange:function(t){this.topStatus=t},handleBottomChange:function(t){this.bottomStatus=t},loadTop:function(){var t=this;t.pageNo=1,setTimeout(function(){t.dataList1=[],t.dataList2=[],t.allLoaded1=!1,t.allLoaded3=!1,t.getDate(),t.$refs.loadmore1.onTopLoaded(),t.$refs.loadmore3.onTopLoaded()},1e3)},loadBottom:function(){var t=this;t.pageNo++,t.allLoaded1=!1,t.allLoaded3=!1,setTimeout(function(){t.getDate(),t.$refs.loadmore1.onBottomLoaded(),t.$refs.loadmore3.onBottomLoaded()},500)},getDate:function(){var t=this;t.allLoaded3=!1,t.allLoaded1=!1,o.Indicator.open(),t.flag?t.$store.commit("socketSend",{act:"fwTrade_endLogList",data:{orderId:t.orderId,pageBean:{pageNo:t.pageNo,pageSize:20}},fn:function(a){if(o.Indicator.close(),t.settletotal=a.pageBean.sumMap.profitSum,0==a.pageBean.data.length)t.allLoaded1=!0;else{t.dataList1=t.dataList1.concat(a.pageBean.data);for(var s=0;s<t.dataList1.length;s++){var e=t.dataList1[s].createAt.split(" ")[0];t.dataList1[s].createAt=e}}}}):t.$store.commit("socketSend",{act:"fwTrade_closeListByNo",data:{openOrderNo:t.orderNo,pageBean:{pageNo:t.pageNo,pageSize:20}},fn:function(a){if(o.Indicator.close(),t.closetotal=a.pageBean.sumMap.profitSum,0==a.pageBean.data.length)t.allLoaded3=!0;else{t.dataList2=t.dataList2.concat(a.pageBean.data);for(var s=0;s<t.dataList2.length;s++){var e=t.dataList2[s].closeAt.split(" ")[0];t.dataList2[s].closeAt=e}}}})}},components:{commonHead:e.a}}),i={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"detail"},[s("div",{staticClass:"heads"},[s("div",{staticClass:"title"},[t._v("明细")]),t._v(" "),s("i",{staticClass:"iconfont icon-jiantou_xiangzuo",on:{click:t.back}})]),t._v(" "),s("div",{staticClass:"detailContent"},[s("div",{staticClass:"content"},[s("div",{staticClass:"cona"},[s("div",{staticClass:"head"},[s("ul",{staticClass:"title clearfix"},[s("li",{class:{fl:!0,active:t.flag},on:{click:function(a){t.tab(1)}}},[t._v("结算明细")]),t._v(" "),s("li",{class:{fr:!0,active:!t.flag},on:{click:function(a){t.tab(2)}}},[t._v("平仓明细")])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.flag,expression:"flag"}],staticClass:"total clearfix"},[s("span",{staticClass:"fl"},[t._v("汇总：")]),t._v(" "),s("span",{class:{fr:!0,gcolor:t.settletotal>0,rcolor:t.settletotal<=0}},[s("i",{directives:[{name:"show",rawName:"v-show",value:t.settletotal>0,expression:"settletotal>0"}]},[t._v("+")]),t._v(t._s(t._f("moneyFil")(t.settletotal)))])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.flag,expression:"!flag"}],staticClass:"total clearfix"},[s("span",{staticClass:"fl"},[t._v("汇总：")]),t._v(" "),s("span",{class:{fr:!0,gcolor:t.closetotal>0,rcolor:t.closetotal<=0}},[s("i",{directives:[{name:"show",rawName:"v-show",value:t.closetotal>0,expression:"closetotal>0"}]},[t._v("+")]),t._v(t._s(t._f("moneyFil")(t.closetotal)))])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.flag,expression:"flag"}],staticClass:"tit clearfix"},[s("span",{staticClass:"fl",staticStyle:{"text-align":"left","text-indent":"0.45rem"}},[t._v("日期")]),t._v(" "),s("span",{staticClass:"fl"},[t._v("持仓价")]),t._v(" "),s("span",{staticClass:"fl"},[t._v("结算价")]),t._v(" "),s("span",{staticClass:"fl"},[t._v("数量")]),t._v(" "),s("span",{staticClass:"fl"},[t._v("结算盈亏")])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.flag,expression:"!flag"}],staticClass:"tits clearfix"},[s("span",{staticClass:"fl",staticStyle:{"text-align":"left","text-indent":"0.45rem"}},[t._v("日期")]),t._v(" "),s("span",{staticClass:"fl"},[t._v("持仓价")]),t._v(" "),s("span",{staticClass:"fl"},[t._v("平仓价")]),t._v(" "),s("span",{staticClass:"fl"},[t._v("数量")]),t._v(" "),s("span",{staticClass:"fl"},[t._v("手续费")]),t._v(" "),s("span",{staticClass:"fl"},[t._v("平仓盈亏")])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.flag,expression:"flag"}],ref:"wrapper",staticClass:"page-loadmore-wrapper"},[s("mt-loadmore",{ref:"loadmore1",attrs:{"auto-fill":!1,"bottom-method":t.loadBottom,"bottom-all-loaded":t.allLoaded1,"top-method":t.loadTop},on:{"bottom-status-change":t.handleBottomChange,"top-status-change":t.handleTopChange}},[s("ul",{staticClass:"list"},[t._l(t.dataList1,function(a,e){return s("li",{key:e,staticClass:"clearfix con"},[s("span",{staticClass:"fl"},[t._v(t._s(a.createAt))]),t._v(" "),s("span",{staticClass:"fl"},[t._v(t._s(t._f("getFloat")(a.positionPrice,t.decimalPlace)))]),t._v(" "),s("span",{class:{fl:!0,gcolor:a.profit>0,rcolor:a.profit<=0}},[t._v(t._s(t._f("getFloat")(a.price,t.decimalPlace)))]),t._v(" "),s("span",{staticClass:"fl"},[t._v(t._s(a.leftCount))]),t._v(" "),s("span",{class:{fl:!0,gcolor:a.profit>0,rcolor:a.profit<=0}},[s("i",{directives:[{name:"show",rawName:"v-show",value:a.profit>0,expression:"item.profit>0"}]},[t._v("+")]),t._v(t._s(t._f("moneyFil")(a.profit)))])])}),t._v(" "),t.allLoaded1?s("li",{staticClass:"noThing",staticStyle:{marginTop:"0.05rem"}},[s("span",[t._v(t._s(t.$t("m.Public.noData")))])]):t._e()],2),t._v(" "),s("div",{staticClass:"mint-loadmore-bottom",attrs:{slot:"bottom"},slot:"bottom"},[s("span",{directives:[{name:"show",rawName:"v-show",value:"loading"!==t.bottomStatus,expression:"bottomStatus !== 'loading'"}],class:{"is-rotate":"drop"===t.bottomStatus}},[t._v("↑")]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.bottomStatus,expression:"bottomStatus === 'loading'"}]},[s("mt-spinner",{attrs:{type:"snake"}})],1)]),t._v(" "),s("div",{staticClass:"mint-loadmore-top",attrs:{slot:"top"},slot:"top"},[s("span",{directives:[{name:"show",rawName:"v-show",value:"loading"!==t.topStatus,expression:"topStatus !== 'loading'"}],class:{"is-rotate":"drop"===t.topStatus}},[t._v("↓")]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.topStatus,expression:"topStatus === 'loading'"}]},[s("mt-spinner",{attrs:{type:"snake"}})],1)])])],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.flag,expression:"!flag"}],ref:"wrapper",staticClass:"page-loadmore-wrapper"},[s("mt-loadmore",{ref:"loadmore3",attrs:{"auto-fill":!1,"bottom-method":t.loadBottom,"bottom-all-loaded":t.allLoaded3,"top-method":t.loadTop},on:{"bottom-status-change":t.handleBottomChange,"top-status-change":t.handleTopChange}},[s("ul",{staticClass:"list1"},[t._l(t.dataList2,function(a,e){return s("li",{key:e,staticClass:"clearfix con"},[s("span",{staticClass:"fl"},[t._v(t._s(a.closeAt))]),t._v(" "),s("span",{class:{fl:!0,gcolor:a.closeProfit>0,rcolor:a.closeProfit<=0}},[t._v(t._s(t._f("getFloat")(a.positionPrice,a.decimalPlace)))]),t._v(" "),s("span",{staticClass:"fl"},[t._v(t._s(t._f("getFloat")(a.closePrice,a.decimalPlace)))]),t._v(" "),s("span",{staticClass:"fl"},[t._v(t._s(a.count))]),t._v(" "),s("span",{staticClass:"fl"},[t._v(t._s(t._f("moneyFil")(a.closeCharge)))]),t._v(" "),s("span",{class:{fl:!0,gcolor:a.closeProfit>0,rcolor:a.closeProfit<=0}},[s("i",{directives:[{name:"show",rawName:"v-show",value:a.closeProfit>0,expression:"item.closeProfit>0"}]},[t._v("+")]),t._v(t._s(t._f("moneyFil")(a.closeProfit)))])])}),t._v(" "),t.allLoaded3?s("li",{staticClass:"noThing",staticStyle:{marginTop:"0.05rem"}},[s("span",[t._v(t._s(t.$t("m.Public.noData")))])]):t._e()],2),t._v(" "),s("div",{staticClass:"mint-loadmore-bottom",attrs:{slot:"bottom"},slot:"bottom"},[s("span",{directives:[{name:"show",rawName:"v-show",value:"loading"!==t.bottomStatus,expression:"bottomStatus !== 'loading'"}],class:{"is-rotate":"drop"===t.bottomStatus}},[t._v("↑")]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.bottomStatus,expression:"bottomStatus === 'loading'"}]},[s("mt-spinner",{attrs:{type:"snake"}})],1)]),t._v(" "),s("div",{staticClass:"mint-loadmore-top",attrs:{slot:"top"},slot:"top"},[s("span",{directives:[{name:"show",rawName:"v-show",value:"loading"!==t.topStatus,expression:"topStatus !== 'loading'"}],class:{"is-rotate":"drop"===t.topStatus}},[t._v("↓")]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.topStatus,expression:"topStatus === 'loading'"}]},[s("mt-spinner",{attrs:{type:"snake"}})],1)])])],1)])])])])},staticRenderFns:[]},n=s("VU/8")(l,i,!1,function(t){s("MgnA")},"data-v-352dafce",null);a.default=n.exports}});